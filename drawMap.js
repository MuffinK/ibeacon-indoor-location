var indoorLevel = [{
    "properties": {
        "level_name": "4",
        "@type": "way",
        "name": "401",
        "indoor": "room",
        "@id": "-43065"
    },
    "propertiesRelations": [],
    "id": "-43065",
    "geometryDTO": {
        "type": "lineString",
        "collectionPointDTO": [{
            "type": "point",
            "latitude": 22.37190749179,
            "longitude": 113.57034221258
        }, {
            "type": "point",
            "latitude": 22.37180889877,
            "longitude": 113.5703713816
        }, {
            "type": "point",
            "latitude": 22.37181044898,
            "longitude": 113.57038982179
        }, {
            "type": "point",
            "latitude": 22.3717766545,
            "longitude": 113.57039082762
        }, {
            "type": "point",
            "latitude": 22.37177789466,
            "longitude": 113.5704682764
        }, {
            "type": "point",
            "latitude": 22.37185509488,
            "longitude": 113.57046391781
        }, {
            "type": "point",
            "latitude": 22.37190470142,
            "longitude": 113.57044782456
        }, {
            "type": "point",
            "latitude": 22.37189819056,
            "longitude": 113.5704303902
        }, {
            "type": "point",
            "latitude": 22.37193694566,
            "longitude": 113.57041295584
        }, {
            "type": "point",
            "latitude": 22.37190749179,
            "longitude": 113.57034221258
        }],
        "centroidDTO": {
            "type": "point",
            "latitude": 22.371852125396277,
            "longitude": 113.57041033511481
        }
    }
}, {
    "properties": {
        "ref": "306",
        "level_name": "3",
        "@type": "way",
        "name": "306",
        "indoor": "room",
        "@id": "-42356"
    },
    "propertiesRelations": [],
    "id": "-42356",
    "geometryDTO": {
        "type": "lineString",
        "collectionPointDTO": [{
            "type": "point",
            "latitude": 22.37147219411,
            "longitude": 113.57015713982
        }, {
            "type": "point",
            "latitude": 22.3714077054,
            "longitude": 113.57019200854
        }, {
            "type": "point",
            "latitude": 22.371426928,
            "longitude": 113.57022955947
        }, {
            "type": "point",
            "latitude": 22.37141018573,
            "longitude": 113.57023961775
        }, {
            "type": "point",
            "latitude": 22.37145111126,
            "longitude": 113.57030399077
        }, {
            "type": "point",
            "latitude": 22.37149265686,
            "longitude": 113.57034891777
        }, {
            "type": "point",
            "latitude": 22.37153916312,
            "longitude": 113.57029192083
        }, {
            "type": "point",
            "latitude": 22.37151622003,
            "longitude": 113.57026442818
        }, {
            "type": "point",
            "latitude": 22.37152738153,
            "longitude": 113.5702530288
        }, {
            "type": "point",
            "latitude": 22.37149451711,
            "longitude": 113.57020005517
        }, {
            "type": "point",
            "latitude": 22.37147219411,
            "longitude": 113.57015713982
        }],
        "centroidDTO": {
            "type": "point",
            "latitude": 22.3714724306274,
            "longitude": 113.5702507107311
        }
    }
}, {
    "properties": {
        "level_name": "3",
        "@type": "way",
        "indoor": "corridor",
        "@id": "-42396"
    },
    "propertiesRelations": [],
    "id": "-42396",
    "geometryDTO": {
        "type": "lineString",
        "collectionPointDTO": [{
            "type": "point",
            "latitude": 22.37152738153,
            "longitude": 113.5702530288
        }, {
            "type": "point",
            "latitude": 22.37151622003,
            "longitude": 113.57026442818
        }, {
            "type": "point",
            "latitude": 22.37153916312,
            "longitude": 113.57029192083
        }, {
            "type": "point",
            "latitude": 22.37155652545,
            "longitude": 113.57031069629
        }, {
            "type": "point",
            "latitude": 22.37158690952,
            "longitude": 113.57033282451
        }, {
            "type": "point",
            "latitude": 22.3716166735,
            "longitude": 113.57035092942
        }, {
            "type": "point",
            "latitude": 22.37164891781,
            "longitude": 113.57036769323
        }, {
            "type": "point",
            "latitude": 22.37163679913,
            "longitude": 113.57040093528
        }, {
            "type": "point",
            "latitude": 22.37166658986,
            "longitude": 113.57041161474
        }, {
            "type": "point",
            "latitude": 22.3716706204,
            "longitude": 113.57040222701
        }, {
            "type": "point",
            "latitude": 22.37168829275,
            "longitude": 113.57040490922
        }, {
            "type": "point",
            "latitude": 22.37170255465,
            "longitude": 113.57040759142
        }, {
            "type": "point",
            "latitude": 22.37169294337,
            "longitude": 113.57041932609
        }, {
            "type": "point",
            "latitude": 22.37172425754,
            "longitude": 113.5704233494
        }, {
            "type": "point",
            "latitude": 22.37172425754,
            "longitude": 113.57041161474
        }, {
            "type": "point",
            "latitude": 22.37175061104,
            "longitude": 113.57041295584
        }, {
            "type": "point",
            "latitude": 22.37175123144,
            "longitude": 113.57039183311
        }, {
            "type": "point",
            "latitude": 22.37181075933,
            "longitude": 113.57039049201
        }, {
            "type": "point",
            "latitude": 22.37180951916,
            "longitude": 113.5703723871
        }, {
            "type": "point",
            "latitude": 22.37174006964,
            "longitude": 113.57037272271
        }, {
            "type": "point",
            "latitude": 22.37168085176,
            "longitude": 113.57035897639
        }, {
            "type": "point",
            "latitude": 22.37165232796,
            "longitude": 113.57034489479
        }, {
            "type": "point",
            "latitude": 22.37158969958,
            "longitude": 113.57031170245
        }, {
            "type": "point",
            "latitude": 22.37152738153,
            "longitude": 113.5702530288
        }],
        "centroidDTO": {
            "type": "point",
            "latitude": 22.371666895402754,
            "longitude": 113.57036148966728
        }
    }
}, {
    "properties": {
        "ref": "305",
        "level_name": "3",
        "@type": "way",
        "name": "305",
        "indoor": "room",
        "@id": "-42399"
    },
    "propertiesRelations": [],
    "id": "-42399",
    "geometryDTO": {
        "type": "lineString",
        "collectionPointDTO": [{
            "type": "point",
            "latitude": 22.37155652545,
            "longitude": 113.57031069629
        }, {
            "type": "point",
            "latitude": 22.37151435978,
            "longitude": 113.57036903434
        }, {
            "type": "point",
            "latitude": 22.3715472242,
            "longitude": 113.57039585643
        }, {
            "type": "point",
            "latitude": 22.37158690952,
            "longitude": 113.57033282451
        }, {
            "type": "point",
            "latitude": 22.37156815229,
            "longitude": 113.57031916393
        }, {
            "type": "point",
            "latitude": 22.37155652545,
            "longitude": 113.57031069629
        }],
        "centroidDTO": {
            "type": "point",
            "latitude": 22.37155093383614,
            "longitude": 113.5703527573743
        }
    }
}, {
    "properties": {
        "ref": "303",
        "level_name": "3",
        "@type": "way",
        "name": "303",
        "indoor": "room",
        "@id": "-42411"
    },
    "propertiesRelations": [],
    "id": "-42411",
    "geometryDTO": {
        "type": "lineString",
        "collectionPointDTO": [{
            "type": "point",
            "latitude": 22.37162070404,
            "longitude": 113.57034053586
        }, {
            "type": "point",
            "latitude": 22.3716166735,
            "longitude": 113.57035092942
        }, {
            "type": "point",
            "latitude": 22.37161124511,
            "longitude": 113.57036243966
        }, {
            "type": "point",
            "latitude": 22.37158504927,
            "longitude": 113.57041798465
        }, {
            "type": "point",
            "latitude": 22.37162349442,
            "longitude": 113.57043743066
        }, {
            "type": "point",
            "latitude": 22.37163679913,
            "longitude": 113.57040093528
        }, {
            "type": "point",
            "latitude": 22.37164891781,
            "longitude": 113.57036769323
        }, {
            "type": "point",
            "latitude": 22.37162804944,
            "longitude": 113.57035684377
        }],
        "centroidDTO": {
            "type": "point",
            "latitude": 22.371618198052754,
            "longitude": 113.57039340839171
        }
    }
}, {
    "properties": {
        "ref": "304",
        "access": "private",
        "level_name": "3",
        "@type": "way",
        "name": "304",
        "indoor": "room",
        "@id": "-42419"
    },
    "propertiesRelations": [],
    "id": "-42419",
    "geometryDTO": {
        "type": "lineString",
        "collectionPointDTO": [{
            "type": "point",
            "latitude": 22.37158504927,
            "longitude": 113.57041798465
        }, {
            "type": "point",
            "latitude": 22.3715472242,
            "longitude": 113.57039585643
        }, {
            "type": "point",
            "latitude": 22.37158690952,
            "longitude": 113.57033282451
        }, {
            "type": "point",
            "latitude": 22.37160580999,
            "longitude": 113.57034432134
        }, {
            "type": "point",
            "latitude": 22.3716166735,
            "longitude": 113.57035092942
        }, {
            "type": "point",
            "latitude": 22.37158504927,
            "longitude": 113.57041798465
        }],
        "centroidDTO": {
            "type": "point",
            "latitude": 22.371583258249636,
            "longitude": 113.57037562522291
        }
    }
}, {
    "properties": {
        "door": "yes",
        "access": "public",
        "level_name": "3",
        "@type": "way",
        "@id": "-42765"
    },
    "propertiesRelations": [],
    "id": "-42765",
    "geometryDTO": {
        "type": "lineString",
        "collectionPointDTO": [{
            "type": "point",
            "latitude": 22.37179897777,
            "longitude": 113.57039049201
        }, {
            "type": "point",
            "latitude": 22.37178533596,
            "longitude": 113.57039049201
        }],
        "centroidDTO": null
    }
}, {
    "properties": {
        "door": "yes",
        "access": "public",
        "level_name": "3",
        "@type": "way",
        "@id": "-42771"
    },
    "propertiesRelations": [],
    "id": "-42771",
    "geometryDTO": {
        "type": "lineString",
        "collectionPointDTO": [{
            "type": "point",
            "latitude": 22.37181075933,
            "longitude": 113.57039049201
        }, {
            "type": "point",
            "latitude": 22.37180951916,
            "longitude": 113.5703723871
        }],
        "centroidDTO": null
    }
}, {
    "properties": {
        "ref": "301",
        "level_name": "3",
        "@type": "way",
        "name": "301",
        "indoor": "room",
        "@id": "-42777"
    },
    "propertiesRelations": [],
    "id": "-42777",
    "geometryDTO": {
        "type": "lineString",
        "collectionPointDTO": [{
            "type": "point",
            "latitude": 22.3719074921,
            "longitude": 113.57034154169
        }, {
            "type": "point",
            "latitude": 22.37193725601,
            "longitude": 113.57041262023
        }, {
            "type": "point",
            "latitude": 22.37189819087,
            "longitude": 113.57043072514
        }, {
            "type": "point",
            "latitude": 22.37190439169,
            "longitude": 113.57044748895
        }, {
            "type": "point",
            "latitude": 22.37185478515,
            "longitude": 113.57046425276
        }, {
            "type": "point",
            "latitude": 22.37177789497,
            "longitude": 113.57046894662
        }, {
            "type": "point",
            "latitude": 22.37177727489,
            "longitude": 113.57039183311
        }, {
            "type": "point",
            "latitude": 22.37181075933,
            "longitude": 113.57039049201
        }, {
            "type": "point",
            "latitude": 22.37180951916,
            "longitude": 113.5703723871
        }, {
            "type": "point",
            "latitude": 22.3719074921,
            "longitude": 113.57034154169
        }],
        "centroidDTO": {
            "type": "point",
            "latitude": 22.37185249928534,
            "longitude": 113.5704105328936
        }
    }
}, {
    "properties": {
        "level_name": "3",
        "@type": "way",
        "@id": "-42797",
        "highway": "steps",
        "name": '楼梯#1'
    },
    "propertiesRelations": [],
    "id": "-42797",
    "geometryDTO": {
        "type": "lineString",
        "collectionPointDTO": [{
            "type": "point",
            "latitude": 22.37175123144,
            "longitude": 113.57039183311
        }, {
            "type": "point",
            "latitude": 22.37175033992,
            "longitude": 113.57041400688
        }, {
            "type": "point",
            "latitude": 22.37174813102,
            "longitude": 113.57046894662
        }, {
            "type": "point",
            "latitude": 22.37177789497,
            "longitude": 113.57046894662
        }, {
            "type": "point",
            "latitude": 22.37177727489,
            "longitude": 113.57039183311
        }, {
            "type": "point",
            "latitude": 22.37175123144,
            "longitude": 113.57039183311
        }],
        "centroidDTO": {
            "type": "point",
            "latitude": 22.371763619299553,
            "longitude": 113.57043124668296
        }
    }
}, {
    "properties": {
        "level_name": "3",
        "@type": "way",
        "amenity": "toilets",
        "indoor": "room",
        "@id": "-42807",
        "male": "yes"
    },
    "propertiesRelations": [],
    "id": "-42807",
    "geometryDTO": {
        "type": "lineString",
        "collectionPointDTO": [{
            "type": "point",
            "latitude": 22.37171216624,
            "longitude": 113.57042200796
        }, {
            "type": "point",
            "latitude": 22.37170472525,
            "longitude": 113.5704635822
        }, {
            "type": "point",
            "latitude": 22.37174813102,
            "longitude": 113.57046894662
        }, {
            "type": "point",
            "latitude": 22.37175033992,
            "longitude": 113.57041400688
        }, {
            "type": "point",
            "latitude": 22.37172518797,
            "longitude": 113.57041262023
        }, {
            "type": "point",
            "latitude": 22.37172518797,
            "longitude": 113.57042401962
        }, {
            "type": "point",
            "latitude": 22.37171216624,
            "longitude": 113.57042200796
        }],
        "centroidDTO": {
            "type": "point",
            "latitude": 22.371730027786967,
            "longitude": 113.57044193528162
        }
    }
}, {
    "properties": {
        "level_name": "3",
        "@type": "way",
        "amenity": "toilets",
        "indoor": "room",
        "@id": "-42839",
        "female": "yes"
    },
    "propertiesRelations": [],
    "id": "-42839",
    "geometryDTO": {
        "type": "lineString",
        "collectionPointDTO": [{
            "type": "point",
            "latitude": 22.37167310104,
            "longitude": 113.57041798465
        }, {
            "type": "point",
            "latitude": 22.37166441988,
            "longitude": 113.57045285337
        }, {
            "type": "point",
            "latitude": 22.37170472525,
            "longitude": 113.5704635822
        }, {
            "type": "point",
            "latitude": 22.37171216624,
            "longitude": 113.57042200796
        }, {
            "type": "point",
            "latitude": 22.37167310104,
            "longitude": 113.57041798465
        }],
        "centroidDTO": {
            "type": "point",
            "latitude": 22.37168909898282,
            "longitude": 113.57043941225177
        }
    }
}, {
    "properties": {
        "door": "yes",
        "access": "private",
        "level_name": "3",
        "@type": "way",
        "@id": "-42898"
    },
    "propertiesRelations": [],
    "id": "-42898",
    "geometryDTO": {
        "type": "lineString",
        "collectionPointDTO": [{
            "type": "point",
            "latitude": 22.3716166735,
            "longitude": 113.57035092942
        }, {
            "type": "point",
            "latitude": 22.37162804944,
            "longitude": 113.57035684377
        }],
        "centroidDTO": null
    }
}, {
    "properties": {
        "door": "yes",
        "access": "private",
        "level_name": "3",
        "@type": "way",
        "@id": "-42906"
    },
    "propertiesRelations": [],
    "id": "-42906",
    "geometryDTO": {
        "type": "lineString",
        "collectionPointDTO": [{
            "type": "point",
            "latitude": 22.37160580999,
            "longitude": 113.57034432134
        }, {
            "type": "point",
            "latitude": 22.3716166735,
            "longitude": 113.57035092942
        }],
        "centroidDTO": null
    }
}, {
    "properties": {
        "door": "yes",
        "access": "private",
        "level_name": "3",
        "@type": "way",
        "@id": "-42912"
    },
    "propertiesRelations": [],
    "id": "-42912",
    "geometryDTO": {
        "type": "lineString",
        "collectionPointDTO": [{
            "type": "point",
            "latitude": 22.37156815229,
            "longitude": 113.57031916393
        }, {
            "type": "point",
            "latitude": 22.37155652545,
            "longitude": 113.57031069629
        }],
        "centroidDTO": null
    }
}, {
    "properties": {
        "level_name": "3",
        "@type": "way",
        "@id": "-42916",
        "highway": "steps",
        "name": '楼梯#2'
    },
    "propertiesRelations": [],
    "id": "-42916",
    "geometryDTO": {
        "type": "lineString",
        "collectionPointDTO": [{
            "type": "point",
            "latitude": 22.37153916312,
            "longitude": 113.57029192083
        }, {
            "type": "point",
            "latitude": 22.37149265686,
            "longitude": 113.57034891777
        }, {
            "type": "point",
            "latitude": 22.37151435978,
            "longitude": 113.57036903434
        }, {
            "type": "point",
            "latitude": 22.37155652545,
            "longitude": 113.57031069629
        }, {
            "type": "point",
            "latitude": 22.37153916312,
            "longitude": 113.57029192083
        }],
        "centroidDTO": {
            "type": "point",
            "latitude": 22.371525053111554,
            "longitude": 113.57033084347368
        }
    }
}];
var indoorMapData = [{
    "properties": {
        "@type": "node",
        "@id": "-41682"
    },
    "propertiesRelations": [],
    "id": "-41682",
    "geometryDTO": {
        "type": "point",
        "latitude": 22.37170255496,
        "longitude": 113.57004985146
    }
}, {
    "properties": {
        "@type": "node",
        "@id": "-42354"
    },
    "propertiesRelations": [{
        "ref": "306",
        "level_name": "3",
        "@type": "way",
        "name": "306",
        "indoor": "room",
        "@id": "-42356"
    }],
    "id": "-42354",
    "geometryDTO": {
        "type": "point",
        "latitude": 22.37147219411,
        "longitude": 113.57015713982
    }
}, {
    "properties": {
        "@type": "node",
        "@id": "-42355"
    },
    "propertiesRelations": [{
        "ref": "306",
        "level_name": "3",
        "@type": "way",
        "name": "306",
        "indoor": "room",
        "@id": "-42356"
    }],
    "id": "-42355",
    "geometryDTO": {
        "type": "point",
        "latitude": 22.3714077054,
        "longitude": 113.57019200854
    }
}, {
    "properties": {
        "ref": "306",
        "level_name": "3",
        "@type": "way",
        "name": "306",
        "indoor": "room",
        "@id": "-42356"
    },
    "propertiesRelations": [],
    "id": "-42356",
    "geometryDTO": {
        "type": "lineString",
        "collectionPointDTO": [{
            "type": "point",
            "latitude": 22.37147219411,
            "longitude": 113.57015713982
        }, {
            "type": "point",
            "latitude": 22.3714077054,
            "longitude": 113.57019200854
        }, {
            "type": "point",
            "latitude": 22.371426928,
            "longitude": 113.57022955947
        }, {
            "type": "point",
            "latitude": 22.37141018573,
            "longitude": 113.57023961775
        }, {
            "type": "point",
            "latitude": 22.37145111126,
            "longitude": 113.57030399077
        }, {
            "type": "point",
            "latitude": 22.37149265686,
            "longitude": 113.57034891777
        }, {
            "type": "point",
            "latitude": 22.37153916312,
            "longitude": 113.57029192083
        }, {
            "type": "point",
            "latitude": 22.37151622003,
            "longitude": 113.57026442818
        }, {
            "type": "point",
            "latitude": 22.37152738153,
            "longitude": 113.5702530288
        }, {
            "type": "point",
            "latitude": 22.37149451711,
            "longitude": 113.57020005517
        }, {
            "type": "point",
            "latitude": 22.37147219411,
            "longitude": 113.57015713982
        }],
        "centroidDTO": {
            "type": "point",
            "latitude": 22.3714724306274,
            "longitude": 113.5702507107311
        }
    }
}, {
    "properties": {
        "@type": "node",
        "@id": "-42357"
    },
    "propertiesRelations": [{
        "ref": "306",
        "level_name": "3",
        "@type": "way",
        "name": "306",
        "indoor": "room",
        "@id": "-42356"
    }],
    "id": "-42357",
    "geometryDTO": {
        "type": "point",
        "latitude": 22.371426928,
        "longitude": 113.57022955947
    }
}, {
    "properties": {
        "@type": "node",
        "@id": "-42359"
    },
    "propertiesRelations": [{
        "ref": "306",
        "level_name": "3",
        "@type": "way",
        "name": "306",
        "indoor": "room",
        "@id": "-42356"
    }],
    "id": "-42359",
    "geometryDTO": {
        "type": "point",
        "latitude": 22.37141018573,
        "longitude": 113.57023961775
    }
}, {
    "properties": {
        "@type": "node",
        "@id": "-42361"
    },
    "propertiesRelations": [{
        "ref": "306",
        "level_name": "3",
        "@type": "way",
        "name": "306",
        "indoor": "room",
        "@id": "-42356"
    }],
    "id": "-42361",
    "geometryDTO": {
        "type": "point",
        "latitude": 22.37145111126,
        "longitude": 113.57030399077
    }
}, {
    "properties": {
        "@type": "node",
        "@id": "-42363"
    },
    "propertiesRelations": [{
        "ref": "306",
        "level_name": "3",
        "@type": "way",
        "name": "306",
        "indoor": "room",
        "@id": "-42356"
    }, {
        "level_name": "3",
        "@type": "way",
        "@id": "-42916",
        "highway": "steps",
        "name": '楼梯#1'
    }],
    "id": "-42363",
    "geometryDTO": {
        "type": "point",
        "latitude": 22.37149265686,
        "longitude": 113.57034891777
    }
}, {
    "properties": {
        "@type": "node",
        "@id": "-42365"
    },
    "propertiesRelations": [{
        "ref": "306",
        "level_name": "3",
        "@type": "way",
        "name": "306",
        "indoor": "room",
        "@id": "-42356"
    }, {
        "level_name": "3",
        "@type": "way",
        "indoor": "corridor",
        "@id": "-42396"
    }, {
        "level_name": "3",
        "@type": "way",
        "@id": "-42916",
        "highway": "steps",
        "name": '楼梯#1'
    }],
    "id": "-42365",
    "geometryDTO": {
        "type": "point",
        "latitude": 22.37153916312,
        "longitude": 113.57029192083
    }
}, {
    "properties": {
        "@type": "node",
        "@id": "-42367"
    },
    "propertiesRelations": [{
        "ref": "306",
        "level_name": "3",
        "@type": "way",
        "name": "306",
        "indoor": "room",
        "@id": "-42356"
    }, {
        "level_name": "3",
        "@type": "way",
        "indoor": "corridor",
        "@id": "-42396"
    }],
    "id": "-42367",
    "geometryDTO": {
        "type": "point",
        "latitude": 22.37151622003,
        "longitude": 113.57026442818
    }
}, {
    "properties": {
        "@type": "node",
        "@id": "-42369"
    },
    "propertiesRelations": [{
        "ref": "306",
        "level_name": "3",
        "@type": "way",
        "name": "306",
        "indoor": "room",
        "@id": "-42356"
    }, {
        "level_name": "3",
        "@type": "way",
        "indoor": "corridor",
        "@id": "-42396"
    }],
    "id": "-42369",
    "geometryDTO": {
        "type": "point",
        "latitude": 22.37152738153,
        "longitude": 113.5702530288
    }
}, {
    "properties": {
        "@type": "node",
        "@id": "-42371"
    },
    "propertiesRelations": [{
        "ref": "306",
        "level_name": "3",
        "@type": "way",
        "name": "306",
        "indoor": "room",
        "@id": "-42356"
    }],
    "id": "-42371",
    "geometryDTO": {
        "type": "point",
        "latitude": 22.37149451711,
        "longitude": 113.57020005517
    }
}, {
    "properties": {
        "level_name": "3",
        "@type": "way",
        "indoor": "corridor",
        "@id": "-42396"
    },
    "propertiesRelations": [],
    "id": "-42396",
    "geometryDTO": {
        "type": "lineString",
        "collectionPointDTO": [{
            "type": "point",
            "latitude": 22.37152738153,
            "longitude": 113.5702530288
        }, {
            "type": "point",
            "latitude": 22.37151622003,
            "longitude": 113.57026442818
        }, {
            "type": "point",
            "latitude": 22.37153916312,
            "longitude": 113.57029192083
        }, {
            "type": "point",
            "latitude": 22.37155652545,
            "longitude": 113.57031069629
        }, {
            "type": "point",
            "latitude": 22.37158690952,
            "longitude": 113.57033282451
        }, {
            "type": "point",
            "latitude": 22.3716166735,
            "longitude": 113.57035092942
        }, {
            "type": "point",
            "latitude": 22.37164891781,
            "longitude": 113.57036769323
        }, {
            "type": "point",
            "latitude": 22.37163679913,
            "longitude": 113.57040093528
        }, {
            "type": "point",
            "latitude": 22.37166658986,
            "longitude": 113.57041161474
        }, {
            "type": "point",
            "latitude": 22.3716706204,
            "longitude": 113.57040222701
        }, {
            "type": "point",
            "latitude": 22.37168829275,
            "longitude": 113.57040490922
        }, {
            "type": "point",
            "latitude": 22.37170255465,
            "longitude": 113.57040759142
        }, {
            "type": "point",
            "latitude": 22.37169294337,
            "longitude": 113.57041932609
        }, {
            "type": "point",
            "latitude": 22.37172425754,
            "longitude": 113.5704233494
        }, {
            "type": "point",
            "latitude": 22.37172425754,
            "longitude": 113.57041161474
        }, {
            "type": "point",
            "latitude": 22.37175061104,
            "longitude": 113.57041295584
        }, {
            "type": "point",
            "latitude": 22.37175123144,
            "longitude": 113.57039183311
        }, {
            "type": "point",
            "latitude": 22.37181075933,
            "longitude": 113.57039049201
        }, {
            "type": "point",
            "latitude": 22.37180951916,
            "longitude": 113.5703723871
        }, {
            "type": "point",
            "latitude": 22.37174006964,
            "longitude": 113.57037272271
        }, {
            "type": "point",
            "latitude": 22.37168085176,
            "longitude": 113.57035897639
        }, {
            "type": "point",
            "latitude": 22.37165232796,
            "longitude": 113.57034489479
        }, {
            "type": "point",
            "latitude": 22.37158969958,
            "longitude": 113.57031170245
        }, {
            "type": "point",
            "latitude": 22.37152738153,
            "longitude": 113.5702530288
        }],
        "centroidDTO": {
            "type": "point",
            "latitude": 22.371666895402754,
            "longitude": 113.57036148966728
        }
    }
}, {
    "properties": {
        "@type": "node",
        "@id": "-42397"
    },
    "propertiesRelations": [{
        "level_name": "3",
        "@type": "way",
        "indoor": "corridor",
        "@id": "-42396"
    }, {
        "ref": "305",
        "level_name": "3",
        "@type": "way",
        "name": "305",
        "indoor": "room",
        "@id": "-42399"
    }, {
        "door": "yes",
        "access": "private",
        "level_name": "3",
        "@type": "way",
        "@id": "-42912"
    }, {
        "level_name": "3",
        "@type": "way",
        "@id": "-42916",
        "highway": "steps",
        "name": '楼梯#1'
    }],
    "id": "-42397",
    "geometryDTO": {
        "type": "point",
        "latitude": 22.37155652545,
        "longitude": 113.57031069629
    }
}, {
    "properties": {
        "@type": "node",
        "@id": "-42398"
    },
    "propertiesRelations": [{
        "ref": "305",
        "level_name": "3",
        "@type": "way",
        "name": "305",
        "indoor": "room",
        "@id": "-42399"
    }, {
        "level_name": "3",
        "@type": "way",
        "@id": "-42916",
        "highway": "steps",
        "name": '楼梯#1'
    }],
    "id": "-42398",
    "geometryDTO": {
        "type": "point",
        "latitude": 22.37151435978,
        "longitude": 113.57036903434
    }
}, {
    "properties": {
        "ref": "305",
        "level_name": "3",
        "@type": "way",
        "name": "305",
        "indoor": "room",
        "@id": "-42399"
    },
    "propertiesRelations": [],
    "id": "-42399",
    "geometryDTO": {
        "type": "lineString",
        "collectionPointDTO": [{
            "type": "point",
            "latitude": 22.37155652545,
            "longitude": 113.57031069629
        }, {
            "type": "point",
            "latitude": 22.37151435978,
            "longitude": 113.57036903434
        }, {
            "type": "point",
            "latitude": 22.3715472242,
            "longitude": 113.57039585643
        }, {
            "type": "point",
            "latitude": 22.37158690952,
            "longitude": 113.57033282451
        }, {
            "type": "point",
            "latitude": 22.37156815229,
            "longitude": 113.57031916393
        }, {
            "type": "point",
            "latitude": 22.37155652545,
            "longitude": 113.57031069629
        }],
        "centroidDTO": {
            "type": "point",
            "latitude": 22.37155093383614,
            "longitude": 113.5703527573743
        }
    }
}, {
    "properties": {
        "@type": "node",
        "@id": "-42400"
    },
    "propertiesRelations": [{
        "ref": "305",
        "level_name": "3",
        "@type": "way",
        "name": "305",
        "indoor": "room",
        "@id": "-42399"
    }, {
        "ref": "304",
        "access": "private",
        "level_name": "3",
        "@type": "way",
        "name": "304",
        "indoor": "room",
        "@id": "-42419"
    }],
    "id": "-42400",
    "geometryDTO": {
        "type": "point",
        "latitude": 22.3715472242,
        "longitude": 113.57039585643
    }
}, {
    "properties": {
        "@type": "node",
        "@id": "-42402"
    },
    "propertiesRelations": [{
        "level_name": "3",
        "@type": "way",
        "indoor": "corridor",
        "@id": "-42396"
    }, {
        "ref": "305",
        "level_name": "3",
        "@type": "way",
        "name": "305",
        "indoor": "room",
        "@id": "-42399"
    }, {
        "ref": "304",
        "access": "private",
        "level_name": "3",
        "@type": "way",
        "name": "304",
        "indoor": "room",
        "@id": "-42419"
    }],
    "id": "-42402",
    "geometryDTO": {
        "type": "point",
        "latitude": 22.37158690952,
        "longitude": 113.57033282451
    }
}, {
    "properties": {
        "@type": "node",
        "@id": "-42409"
    },
    "propertiesRelations": [{
        "ref": "303",
        "level_name": "3",
        "@type": "way",
        "name": "303",
        "indoor": "room",
        "@id": "-42411"
    }],
    "id": "-42409",
    "geometryDTO": {
        "type": "point",
        "latitude": 22.37162070404,
        "longitude": 113.57034053586
    }
}, {
    "properties": {
        "@type": "node",
        "@id": "-42410"
    },
    "propertiesRelations": [{
        "level_name": "3",
        "@type": "way",
        "indoor": "corridor",
        "@id": "-42396"
    }, {
        "ref": "303",
        "level_name": "3",
        "@type": "way",
        "name": "303",
        "indoor": "room",
        "@id": "-42411"
    }, {
        "ref": "304",
        "access": "private",
        "level_name": "3",
        "@type": "way",
        "name": "304",
        "indoor": "room",
        "@id": "-42419"
    }, {
        "door": "yes",
        "access": "private",
        "level_name": "3",
        "@type": "way",
        "@id": "-42898"
    }, {
        "door": "yes",
        "access": "private",
        "level_name": "3",
        "@type": "way",
        "@id": "-42906"
    }],
    "id": "-42410",
    "geometryDTO": {
        "type": "point",
        "latitude": 22.3716166735,
        "longitude": 113.57035092942
    }
}, {
    "properties": {
        "ref": "303",
        "level_name": "3",
        "@type": "way",
        "name": "303",
        "indoor": "room",
        "@id": "-42411"
    },
    "propertiesRelations": [],
    "id": "-42411",
    "geometryDTO": {
        "type": "lineString",
        "collectionPointDTO": [{
            "type": "point",
            "latitude": 22.37162070404,
            "longitude": 113.57034053586
        }, {
            "type": "point",
            "latitude": 22.3716166735,
            "longitude": 113.57035092942
        }, {
            "type": "point",
            "latitude": 22.37161124511,
            "longitude": 113.57036243966
        }, {
            "type": "point",
            "latitude": 22.37158504927,
            "longitude": 113.57041798465
        }, {
            "type": "point",
            "latitude": 22.37162349442,
            "longitude": 113.57043743066
        }, {
            "type": "point",
            "latitude": 22.37163679913,
            "longitude": 113.57040093528
        }, {
            "type": "point",
            "latitude": 22.37164891781,
            "longitude": 113.57036769323
        }, {
            "type": "point",
            "latitude": 22.37162804944,
            "longitude": 113.57035684377
        }],
        "centroidDTO": {
            "type": "point",
            "latitude": 22.371618198052754,
            "longitude": 113.57039340839171
        }
    }
}, {
    "properties": {
        "@type": "node",
        "@id": "-42418"
    },
    "propertiesRelations": [{
        "ref": "303",
        "level_name": "3",
        "@type": "way",
        "name": "303",
        "indoor": "room",
        "@id": "-42411"
    }, {
        "ref": "304",
        "access": "private",
        "level_name": "3",
        "@type": "way",
        "name": "304",
        "indoor": "room",
        "@id": "-42419"
    }],
    "id": "-42418",
    "geometryDTO": {
        "type": "point",
        "latitude": 22.37158504927,
        "longitude": 113.57041798465
    }
}, {
    "properties": {
        "ref": "304",
        "access": "private",
        "level_name": "3",
        "@type": "way",
        "name": "304",
        "indoor": "room",
        "@id": "-42419"
    },
    "propertiesRelations": [],
    "id": "-42419",
    "geometryDTO": {
        "type": "lineString",
        "collectionPointDTO": [{
            "type": "point",
            "latitude": 22.37158504927,
            "longitude": 113.57041798465
        }, {
            "type": "point",
            "latitude": 22.3715472242,
            "longitude": 113.57039585643
        }, {
            "type": "point",
            "latitude": 22.37158690952,
            "longitude": 113.57033282451
        }, {
            "type": "point",
            "latitude": 22.37160580999,
            "longitude": 113.57034432134
        }, {
            "type": "point",
            "latitude": 22.3716166735,
            "longitude": 113.57035092942
        }, {
            "type": "point",
            "latitude": 22.37158504927,
            "longitude": 113.57041798465
        }],
        "centroidDTO": {
            "type": "point",
            "latitude": 22.371583258249636,
            "longitude": 113.57037562522291
        }
    }
}, {
    "properties": {
        "@type": "node",
        "@id": "-42609"
    },
    "propertiesRelations": [],
    "id": "-42609",
    "geometryDTO": {
        "type": "point",
        "latitude": 22.37157822836,
        "longitude": 113.57024498217
    }
}, {
    "properties": {
        "@type": "node",
        "@id": "-42685"
    },
    "propertiesRelations": [{
        "ref": "303",
        "level_name": "3",
        "@type": "way",
        "name": "303",
        "indoor": "room",
        "@id": "-42411"
    }],
    "id": "-42685",
    "geometryDTO": {
        "type": "point",
        "latitude": 22.37162349442,
        "longitude": 113.57043743066
    }
}, {
    "properties": {
        "@type": "node",
        "@id": "-42687"
    },
    "propertiesRelations": [{
        "level_name": "3",
        "@type": "way",
        "indoor": "corridor",
        "@id": "-42396"
    }, {
        "ref": "303",
        "level_name": "3",
        "@type": "way",
        "name": "303",
        "indoor": "room",
        "@id": "-42411"
    }],
    "id": "-42687",
    "geometryDTO": {
        "type": "point",
        "latitude": 22.37164891781,
        "longitude": 113.57036769323
    }
}, {
    "properties": {
        "@type": "node",
        "@id": "-42706"
    },
    "propertiesRelations": [{
        "level_name": "3",
        "@type": "way",
        "indoor": "corridor",
        "@id": "-42396"
    }, {
        "ref": "303",
        "level_name": "3",
        "@type": "way",
        "name": "303",
        "indoor": "room",
        "@id": "-42411"
    }],
    "id": "-42706",
    "geometryDTO": {
        "type": "point",
        "latitude": 22.37163679913,
        "longitude": 113.57040093528
    }
}, {
    "properties": {
        "@type": "node",
        "@id": "-42709"
    },
    "propertiesRelations": [{
        "ref": "303",
        "level_name": "3",
        "@type": "way",
        "name": "303",
        "indoor": "room",
        "@id": "-42411"
    }],
    "id": "-42709",
    "geometryDTO": {
        "type": "point",
        "latitude": 22.37161124511,
        "longitude": 113.57036243966
    }
}, {
    "properties": {
        "@type": "node",
        "@id": "-42763"
    },
    "propertiesRelations": [{
        "door": "yes",
        "access": "public",
        "level_name": "3",
        "@type": "way",
        "@id": "-42765"
    }],
    "id": "-42763",
    "geometryDTO": {
        "type": "point",
        "latitude": 22.37179897777,
        "longitude": 113.57039049201
    }
}, {
    "properties": {
        "@type": "node",
        "@id": "-42764"
    },
    "propertiesRelations": [{
        "door": "yes",
        "access": "public",
        "level_name": "3",
        "@type": "way",
        "@id": "-42765"
    }],
    "id": "-42764",
    "geometryDTO": {
        "type": "point",
        "latitude": 22.37178533596,
        "longitude": 113.57039049201
    }
}, {
    "properties": {
        "door": "yes",
        "access": "public",
        "level_name": "3",
        "@type": "way",
        "@id": "-42765"
    },
    "propertiesRelations": [],
    "id": "-42765",
    "geometryDTO": {
        "type": "lineString",
        "collectionPointDTO": [{
            "type": "point",
            "latitude": 22.37179897777,
            "longitude": 113.57039049201
        }, {
            "type": "point",
            "latitude": 22.37178533596,
            "longitude": 113.57039049201
        }],
        "centroidDTO": null
    }
}, {
    "properties": {
        "@type": "node",
        "@id": "-42769"
    },
    "propertiesRelations": [{
        "level_name": "3",
        "@type": "way",
        "indoor": "corridor",
        "@id": "-42396"
    }, {
        "door": "yes",
        "access": "public",
        "level_name": "3",
        "@type": "way",
        "@id": "-42771"
    }, {
        "ref": "301",
        "level_name": "3",
        "@type": "way",
        "name": "301",
        "indoor": "room",
        "@id": "-42777"
    }],
    "id": "-42769",
    "geometryDTO": {
        "type": "point",
        "latitude": 22.37181075933,
        "longitude": 113.57039049201
    }
}, {
    "properties": {
        "@type": "node",
        "@id": "-42770"
    },
    "propertiesRelations": [{
        "level_name": "3",
        "@type": "way",
        "indoor": "corridor",
        "@id": "-42396"
    }, {
        "door": "yes",
        "access": "public",
        "level_name": "3",
        "@type": "way",
        "@id": "-42771"
    }, {
        "ref": "301",
        "level_name": "3",
        "@type": "way",
        "name": "301",
        "indoor": "room",
        "@id": "-42777"
    }],
    "id": "-42770",
    "geometryDTO": {
        "type": "point",
        "latitude": 22.37180951916,
        "longitude": 113.5703723871
    }
}, {
    "properties": {
        "door": "yes",
        "access": "public",
        "level_name": "3",
        "@type": "way",
        "@id": "-42771"
    },
    "propertiesRelations": [],
    "id": "-42771",
    "geometryDTO": {
        "type": "lineString",
        "collectionPointDTO": [{
            "type": "point",
            "latitude": 22.37181075933,
            "longitude": 113.57039049201
        }, {
            "type": "point",
            "latitude": 22.37180951916,
            "longitude": 113.5703723871
        }],
        "centroidDTO": null
    }
}, {
    "properties": {
        "@type": "node",
        "@id": "-42775"
    },
    "propertiesRelations": [{
        "ref": "301",
        "level_name": "3",
        "@type": "way",
        "name": "301",
        "indoor": "room",
        "@id": "-42777"
    }],
    "id": "-42775",
    "geometryDTO": {
        "type": "point",
        "latitude": 22.3719074921,
        "longitude": 113.57034154169
    }
}, {
    "properties": {
        "@type": "node",
        "@id": "-42776"
    },
    "propertiesRelations": [{
        "ref": "301",
        "level_name": "3",
        "@type": "way",
        "name": "301",
        "indoor": "room",
        "@id": "-42777"
    }],
    "id": "-42776",
    "geometryDTO": {
        "type": "point",
        "latitude": 22.37193725601,
        "longitude": 113.57041262023
    }
}, {
    "properties": {
        "ref": "301",
        "level_name": "3",
        "@type": "way",
        "name": "301",
        "indoor": "room",
        "@id": "-42777"
    },
    "propertiesRelations": [],
    "id": "-42777",
    "geometryDTO": {
        "type": "lineString",
        "collectionPointDTO": [{
            "type": "point",
            "latitude": 22.3719074921,
            "longitude": 113.57034154169
        }, {
            "type": "point",
            "latitude": 22.37193725601,
            "longitude": 113.57041262023
        }, {
            "type": "point",
            "latitude": 22.37189819087,
            "longitude": 113.57043072514
        }, {
            "type": "point",
            "latitude": 22.37190439169,
            "longitude": 113.57044748895
        }, {
            "type": "point",
            "latitude": 22.37185478515,
            "longitude": 113.57046425276
        }, {
            "type": "point",
            "latitude": 22.37177789497,
            "longitude": 113.57046894662
        }, {
            "type": "point",
            "latitude": 22.37177727489,
            "longitude": 113.57039183311
        }, {
            "type": "point",
            "latitude": 22.37181075933,
            "longitude": 113.57039049201
        }, {
            "type": "point",
            "latitude": 22.37180951916,
            "longitude": 113.5703723871
        }, {
            "type": "point",
            "latitude": 22.3719074921,
            "longitude": 113.57034154169
        }],
        "centroidDTO": {
            "type": "point",
            "latitude": 22.37185249928534,
            "longitude": 113.5704105328936
        }
    }
}, {
    "properties": {
        "@type": "node",
        "@id": "-42778"
    },
    "propertiesRelations": [{
        "ref": "301",
        "level_name": "3",
        "@type": "way",
        "name": "301",
        "indoor": "room",
        "@id": "-42777"
    }],
    "id": "-42778",
    "geometryDTO": {
        "type": "point",
        "latitude": 22.37189819087,
        "longitude": 113.57043072514
    }
}, {
    "properties": {
        "@type": "node",
        "@id": "-42780"
    },
    "propertiesRelations": [{
        "ref": "301",
        "level_name": "3",
        "@type": "way",
        "name": "301",
        "indoor": "room",
        "@id": "-42777"
    }],
    "id": "-42780",
    "geometryDTO": {
        "type": "point",
        "latitude": 22.37190439169,
        "longitude": 113.57044748895
    }
}, {
    "properties": {
        "@type": "node",
        "@id": "-42782"
    },
    "propertiesRelations": [{
        "ref": "301",
        "level_name": "3",
        "@type": "way",
        "name": "301",
        "indoor": "room",
        "@id": "-42777"
    }],
    "id": "-42782",
    "geometryDTO": {
        "type": "point",
        "latitude": 22.37185478515,
        "longitude": 113.57046425276
    }
}, {
    "properties": {
        "@type": "node",
        "@id": "-42784"
    },
    "propertiesRelations": [{
        "ref": "301",
        "level_name": "3",
        "@type": "way",
        "name": "301",
        "indoor": "room",
        "@id": "-42777"
    }, {
        "level_name": "3",
        "@type": "way",
        "@id": "-42797",
        "highway": "steps",
        "name": '楼梯#1'
    }],
    "id": "-42784",
    "geometryDTO": {
        "type": "point",
        "latitude": 22.37177789497,
        "longitude": 113.57046894662
    }
}, {
    "properties": {
        "@type": "node",
        "@id": "-42786"
    },
    "propertiesRelations": [{
        "ref": "301",
        "level_name": "3",
        "@type": "way",
        "name": "301",
        "indoor": "room",
        "@id": "-42777"
    }, {
        "level_name": "3",
        "@type": "way",
        "@id": "-42797",
        "highway": "steps",
        "name": '楼梯#1'
    }],
    "id": "-42786",
    "geometryDTO": {
        "type": "point",
        "latitude": 22.37177727489,
        "longitude": 113.57039183311
    }
}, {
    "properties": {
        "@type": "node",
        "@id": "-42795"
    },
    "propertiesRelations": [{
        "level_name": "3",
        "@type": "way",
        "indoor": "corridor",
        "@id": "-42396"
    }, {
        "level_name": "3",
        "@type": "way",
        "@id": "-42797",
        "highway": "steps",
        "name": '楼梯#1'
    }],
    "id": "-42795",
    "geometryDTO": {
        "type": "point",
        "latitude": 22.37175123144,
        "longitude": 113.57039183311
    }
}, {
    "properties": {
        "@type": "node",
        "@id": "-42796"
    },
    "propertiesRelations": [{
        "level_name": "3",
        "@type": "way",
        "@id": "-42797",
        "highway": "steps",
        "name": '楼梯#1'
    }, {
        "level_name": "3",
        "@type": "way",
        "amenity": "toilets",
        "indoor": "room",
        "@id": "-42807",
        "male": "yes"
    }],
    "id": "-42796",
    "geometryDTO": {
        "type": "point",
        "latitude": 22.37174813102,
        "longitude": 113.57046894662
    }
}, {
    "properties": {
        "level_name": "3",
        "@type": "way",
        "@id": "-42797",
        "highway": "steps",
        "name": '楼梯#1'
    },
    "propertiesRelations": [],
    "id": "-42797",
    "geometryDTO": {
        "type": "lineString",
        "collectionPointDTO": [{
            "type": "point",
            "latitude": 22.37175123144,
            "longitude": 113.57039183311
        }, {
            "type": "point",
            "latitude": 22.37175033992,
            "longitude": 113.57041400688
        }, {
            "type": "point",
            "latitude": 22.37174813102,
            "longitude": 113.57046894662
        }, {
            "type": "point",
            "latitude": 22.37177789497,
            "longitude": 113.57046894662
        }, {
            "type": "point",
            "latitude": 22.37177727489,
            "longitude": 113.57039183311
        }, {
            "type": "point",
            "latitude": 22.37175123144,
            "longitude": 113.57039183311
        }],
        "centroidDTO": {
            "type": "point",
            "latitude": 22.371763619299553,
            "longitude": 113.57043124668296
        }
    }
}, {
    "properties": {
        "@type": "node",
        "@id": "-42805"
    },
    "propertiesRelations": [{
        "level_name": "3",
        "@type": "way",
        "amenity": "toilets",
        "indoor": "room",
        "@id": "-42807",
        "male": "yes"
    }, {
        "level_name": "3",
        "@type": "way",
        "amenity": "toilets",
        "indoor": "room",
        "@id": "-42839",
        "female": "yes"
    }],
    "id": "-42805",
    "geometryDTO": {
        "type": "point",
        "latitude": 22.37171216624,
        "longitude": 113.57042200796
    }
}, {
    "properties": {
        "@type": "node",
        "@id": "-42806"
    },
    "propertiesRelations": [{
        "level_name": "3",
        "@type": "way",
        "amenity": "toilets",
        "indoor": "room",
        "@id": "-42807",
        "male": "yes"
    }, {
        "level_name": "3",
        "@type": "way",
        "amenity": "toilets",
        "indoor": "room",
        "@id": "-42839",
        "female": "yes"
    }],
    "id": "-42806",
    "geometryDTO": {
        "type": "point",
        "latitude": 22.37170472525,
        "longitude": 113.5704635822
    }
}, {
    "properties": {
        "level_name": "3",
        "@type": "way",
        "amenity": "toilets",
        "indoor": "room",
        "@id": "-42807",
        "male": "yes"
    },
    "propertiesRelations": [],
    "id": "-42807",
    "geometryDTO": {
        "type": "lineString",
        "collectionPointDTO": [{
            "type": "point",
            "latitude": 22.37171216624,
            "longitude": 113.57042200796
        }, {
            "type": "point",
            "latitude": 22.37170472525,
            "longitude": 113.5704635822
        }, {
            "type": "point",
            "latitude": 22.37174813102,
            "longitude": 113.57046894662
        }, {
            "type": "point",
            "latitude": 22.37175033992,
            "longitude": 113.57041400688
        }, {
            "type": "point",
            "latitude": 22.37172518797,
            "longitude": 113.57041262023
        }, {
            "type": "point",
            "latitude": 22.37172518797,
            "longitude": 113.57042401962
        }, {
            "type": "point",
            "latitude": 22.37171216624,
            "longitude": 113.57042200796
        }],
        "centroidDTO": {
            "type": "point",
            "latitude": 22.371730027786967,
            "longitude": 113.57044193528162
        }
    }
}, {
    "properties": {
        "@type": "node",
        "@id": "-42809"
    },
    "propertiesRelations": [{
        "level_name": "3",
        "@type": "way",
        "@id": "-42797",
        "highway": "steps",
        "name": '楼梯#1'
    }, {
        "level_name": "3",
        "@type": "way",
        "amenity": "toilets",
        "indoor": "room",
        "@id": "-42807",
        "male": "yes"
    }],
    "id": "-42809",
    "geometryDTO": {
        "type": "point",
        "latitude": 22.37175033992,
        "longitude": 113.57041400688
    }
}, {
    "properties": {
        "@type": "node",
        "@id": "-42812"
    },
    "propertiesRelations": [{
        "level_name": "3",
        "@type": "way",
        "amenity": "toilets",
        "indoor": "room",
        "@id": "-42807",
        "male": "yes"
    }],
    "id": "-42812",
    "geometryDTO": {
        "type": "point",
        "latitude": 22.37172518797,
        "longitude": 113.57041262023
    }
}, {
    "properties": {
        "@type": "node",
        "@id": "-42814"
    },
    "propertiesRelations": [{
        "level_name": "3",
        "@type": "way",
        "amenity": "toilets",
        "indoor": "room",
        "@id": "-42807",
        "male": "yes"
    }],
    "id": "-42814",
    "geometryDTO": {
        "type": "point",
        "latitude": 22.37172518797,
        "longitude": 113.57042401962
    }
}, {
    "properties": {
        "@type": "node",
        "@id": "-42837"
    },
    "propertiesRelations": [{
        "level_name": "3",
        "@type": "way",
        "amenity": "toilets",
        "indoor": "room",
        "@id": "-42839",
        "female": "yes"
    }],
    "id": "-42837",
    "geometryDTO": {
        "type": "point",
        "latitude": 22.37167310104,
        "longitude": 113.57041798465
    }
}, {
    "properties": {
        "@type": "node",
        "@id": "-42838"
    },
    "propertiesRelations": [{
        "level_name": "3",
        "@type": "way",
        "amenity": "toilets",
        "indoor": "room",
        "@id": "-42839",
        "female": "yes"
    }],
    "id": "-42838",
    "geometryDTO": {
        "type": "point",
        "latitude": 22.37166441988,
        "longitude": 113.57045285337
    }
}, {
    "properties": {
        "level_name": "3",
        "@type": "way",
        "amenity": "toilets",
        "indoor": "room",
        "@id": "-42839",
        "female": "yes"
    },
    "propertiesRelations": [],
    "id": "-42839",
    "geometryDTO": {
        "type": "lineString",
        "collectionPointDTO": [{
            "type": "point",
            "latitude": 22.37167310104,
            "longitude": 113.57041798465
        }, {
            "type": "point",
            "latitude": 22.37166441988,
            "longitude": 113.57045285337
        }, {
            "type": "point",
            "latitude": 22.37170472525,
            "longitude": 113.5704635822
        }, {
            "type": "point",
            "latitude": 22.37171216624,
            "longitude": 113.57042200796
        }, {
            "type": "point",
            "latitude": 22.37167310104,
            "longitude": 113.57041798465
        }],
        "centroidDTO": {
            "type": "point",
            "latitude": 22.37168909898282,
            "longitude": 113.57043941225177
        }
    }
}, {
    "properties": {
        "@type": "node",
        "@id": "-42897"
    },
    "propertiesRelations": [{
        "ref": "303",
        "level_name": "3",
        "@type": "way",
        "name": "303",
        "indoor": "room",
        "@id": "-42411"
    }, {
        "door": "yes",
        "access": "private",
        "level_name": "3",
        "@type": "way",
        "@id": "-42898"
    }],
    "id": "-42897",
    "geometryDTO": {
        "type": "point",
        "latitude": 22.37162804944,
        "longitude": 113.57035684377
    }
}, {
    "properties": {
        "door": "yes",
        "access": "private",
        "level_name": "3",
        "@type": "way",
        "@id": "-42898"
    },
    "propertiesRelations": [],
    "id": "-42898",
    "geometryDTO": {
        "type": "lineString",
        "collectionPointDTO": [{
            "type": "point",
            "latitude": 22.3716166735,
            "longitude": 113.57035092942
        }, {
            "type": "point",
            "latitude": 22.37162804944,
            "longitude": 113.57035684377
        }],
        "centroidDTO": null
    }
}, {
    "properties": {
        "@type": "node",
        "@id": "-42904"
    },
    "propertiesRelations": [{
        "ref": "304",
        "access": "private",
        "level_name": "3",
        "@type": "way",
        "name": "304",
        "indoor": "room",
        "@id": "-42419"
    }, {
        "door": "yes",
        "access": "private",
        "level_name": "3",
        "@type": "way",
        "@id": "-42906"
    }],
    "id": "-42904",
    "geometryDTO": {
        "type": "point",
        "latitude": 22.37160580999,
        "longitude": 113.57034432134
    }
}, {
    "properties": {
        "door": "yes",
        "access": "private",
        "level_name": "3",
        "@type": "way",
        "@id": "-42906"
    },
    "propertiesRelations": [],
    "id": "-42906",
    "geometryDTO": {
        "type": "lineString",
        "collectionPointDTO": [{
            "type": "point",
            "latitude": 22.37160580999,
            "longitude": 113.57034432134
        }, {
            "type": "point",
            "latitude": 22.3716166735,
            "longitude": 113.57035092942
        }],
        "centroidDTO": null
    }
}, {
    "properties": {
        "@type": "node",
        "@id": "-42910"
    },
    "propertiesRelations": [{
        "ref": "305",
        "level_name": "3",
        "@type": "way",
        "name": "305",
        "indoor": "room",
        "@id": "-42399"
    }, {
        "door": "yes",
        "access": "private",
        "level_name": "3",
        "@type": "way",
        "@id": "-42912"
    }],
    "id": "-42910",
    "geometryDTO": {
        "type": "point",
        "latitude": 22.37156815229,
        "longitude": 113.57031916393
    }
}, {
    "properties": {
        "door": "yes",
        "access": "private",
        "level_name": "3",
        "@type": "way",
        "@id": "-42912"
    },
    "propertiesRelations": [],
    "id": "-42912",
    "geometryDTO": {
        "type": "lineString",
        "collectionPointDTO": [{
            "type": "point",
            "latitude": 22.37156815229,
            "longitude": 113.57031916393
        }, {
            "type": "point",
            "latitude": 22.37155652545,
            "longitude": 113.57031069629
        }],
        "centroidDTO": null
    }
}, {
    "properties": {
        "level_name": "3",
        "@type": "way",
        "@id": "-42916",
        "highway": "steps",
        "name": '楼梯#2'
    },
    "propertiesRelations": [],
    "id": "-42916",
    "geometryDTO": {
        "type": "lineString",
        "collectionPointDTO": [{
            "type": "point",
            "latitude": 22.37153916312,
            "longitude": 113.57029192083
        }, {
            "type": "point",
            "latitude": 22.37149265686,
            "longitude": 113.57034891777
        }, {
            "type": "point",
            "latitude": 22.37151435978,
            "longitude": 113.57036903434
        }, {
            "type": "point",
            "latitude": 22.37155652545,
            "longitude": 113.57031069629
        }, {
            "type": "point",
            "latitude": 22.37153916312,
            "longitude": 113.57029192083
        }],
        "centroidDTO": {
            "type": "point",
            "latitude": 22.371525053111554,
            "longitude": 113.57033084347368
        }
    }
}, {
    "properties": {
        "@type": "node",
        "@id": "-42930"
    },
    "propertiesRelations": [{
        "level_name": "3",
        "@type": "way",
        "indoor": "corridor",
        "@id": "-42396"
    }],
    "id": "-42930",
    "geometryDTO": {
        "type": "point",
        "latitude": 22.37166658986,
        "longitude": 113.57041161474
    }
}, {
    "properties": {
        "@type": "node",
        "@id": "-42932"
    },
    "propertiesRelations": [{
        "level_name": "3",
        "@type": "way",
        "indoor": "corridor",
        "@id": "-42396"
    }],
    "id": "-42932",
    "geometryDTO": {
        "type": "point",
        "latitude": 22.3716706204,
        "longitude": 113.57040222701
    }
}, {
    "properties": {
        "@type": "node",
        "@id": "-42934"
    },
    "propertiesRelations": [{
        "level_name": "3",
        "@type": "way",
        "indoor": "corridor",
        "@id": "-42396"
    }],
    "id": "-42934",
    "geometryDTO": {
        "type": "point",
        "latitude": 22.37168829275,
        "longitude": 113.57040490922
    }
}, {
    "properties": {
        "@type": "node",
        "@id": "-42936"
    },
    "propertiesRelations": [{
        "level_name": "3",
        "@type": "way",
        "indoor": "corridor",
        "@id": "-42396"
    }],
    "id": "-42936",
    "geometryDTO": {
        "type": "point",
        "latitude": 22.37170255465,
        "longitude": 113.57040759142
    }
}, {
    "properties": {
        "@type": "node",
        "@id": "-42938"
    },
    "propertiesRelations": [{
        "level_name": "3",
        "@type": "way",
        "indoor": "corridor",
        "@id": "-42396"
    }, {
        "@type": "way",
        "@id": "-43062"
    }],
    "id": "-42938",
    "geometryDTO": {
        "type": "point",
        "latitude": 22.37172425754,
        "longitude": 113.57041161474
    }
}, {
    "properties": {
        "@type": "node",
        "@id": "-42943"
    },
    "propertiesRelations": [{
        "level_name": "3",
        "@type": "way",
        "indoor": "corridor",
        "@id": "-42396"
    }],
    "id": "-42943",
    "geometryDTO": {
        "type": "point",
        "latitude": 22.37174006964,
        "longitude": 113.57037272271
    }
}, {
    "properties": {
        "@type": "node",
        "@id": "-42945"
    },
    "propertiesRelations": [{
        "level_name": "3",
        "@type": "way",
        "indoor": "corridor",
        "@id": "-42396"
    }],
    "id": "-42945",
    "geometryDTO": {
        "type": "point",
        "latitude": 22.37168085176,
        "longitude": 113.57035897639
    }
}, {
    "properties": {
        "@type": "node",
        "@id": "-42947"
    },
    "propertiesRelations": [{
        "level_name": "3",
        "@type": "way",
        "indoor": "corridor",
        "@id": "-42396"
    }],
    "id": "-42947",
    "geometryDTO": {
        "type": "point",
        "latitude": 22.37165232796,
        "longitude": 113.57034489479
    }
}, {
    "properties": {
        "@type": "node",
        "@id": "-42949"
    },
    "propertiesRelations": [{
        "level_name": "3",
        "@type": "way",
        "indoor": "corridor",
        "@id": "-42396"
    }],
    "id": "-42949",
    "geometryDTO": {
        "type": "point",
        "latitude": 22.37158969958,
        "longitude": 113.57031170245
    }
}, {
    "properties": {
        "@type": "node",
        "@id": "-42983"
    },
    "propertiesRelations": [{
        "level_name": "3",
        "@type": "way",
        "indoor": "corridor",
        "@id": "-42396"
    }],
    "id": "-42983",
    "geometryDTO": {
        "type": "point",
        "latitude": 22.37175061104,
        "longitude": 113.57041295584
    }
}, {
    "properties": {
        "@type": "node",
        "@id": "-43003"
    },
    "propertiesRelations": [{
        "level_name": "3",
        "@type": "way",
        "indoor": "corridor",
        "@id": "-42396"
    }, {
        "@type": "way",
        "@id": "-43062"
    }],
    "id": "-43003",
    "geometryDTO": {
        "type": "point",
        "latitude": 22.37172425754,
        "longitude": 113.5704233494
    }
}, {
    "properties": {
        "@type": "node",
        "@id": "-43023"
    },
    "propertiesRelations": [{
        "level_name": "3",
        "@type": "way",
        "indoor": "corridor",
        "@id": "-42396"
    }],
    "id": "-43023",
    "geometryDTO": {
        "type": "point",
        "latitude": 22.37169294337,
        "longitude": 113.57041932609
    }
}, {
    "properties": {
        "@type": "way",
        "@id": "-43062"
    },
    "propertiesRelations": [],
    "id": "-43062",
    "geometryDTO": {
        "type": "lineString",
        "collectionPointDTO": [{
            "type": "point",
            "latitude": 22.37172425754,
            "longitude": 113.57041161474
        }, {
            "type": "point",
            "latitude": 22.37172425754,
            "longitude": 113.5704233494
        }],
        "centroidDTO": null
    }
}, {
    "properties": {
        "@type": "node",
        "@id": "-43063"
    },
    "propertiesRelations": [{
        "level_name": "4",
        "@type": "way",
        "name": "401",
        "indoor": "room",
        "@id": "-43065"
    }],
    "id": "-43063",
    "geometryDTO": {
        "type": "point",
        "latitude": 22.37190749179,
        "longitude": 113.57034221258
    }
}, {
    "properties": {
        "@type": "node",
        "@id": "-43064"
    },
    "propertiesRelations": [{
        "level_name": "4",
        "@type": "way",
        "name": "401",
        "indoor": "room",
        "@id": "-43065"
    }],
    "id": "-43064",
    "geometryDTO": {
        "type": "point",
        "latitude": 22.37180889877,
        "longitude": 113.5703713816
    }
}, {
    "properties": {
        "level_name": "4",
        "@type": "way",
        "name": "401",
        "indoor": "room",
        "@id": "-43065"
    },
    "propertiesRelations": [],
    "id": "-43065",
    "geometryDTO": {
        "type": "lineString",
        "collectionPointDTO": [{
            "type": "point",
            "latitude": 22.37190749179,
            "longitude": 113.57034221258
        }, {
            "type": "point",
            "latitude": 22.37180889877,
            "longitude": 113.5703713816
        }, {
            "type": "point",
            "latitude": 22.37181044898,
            "longitude": 113.57038982179
        }, {
            "type": "point",
            "latitude": 22.3717766545,
            "longitude": 113.57039082762
        }, {
            "type": "point",
            "latitude": 22.37177789466,
            "longitude": 113.5704682764
        }, {
            "type": "point",
            "latitude": 22.37185509488,
            "longitude": 113.57046391781
        }, {
            "type": "point",
            "latitude": 22.37190470142,
            "longitude": 113.57044782456
        }, {
            "type": "point",
            "latitude": 22.37189819056,
            "longitude": 113.5704303902
        }, {
            "type": "point",
            "latitude": 22.37193694566,
            "longitude": 113.57041295584
        }, {
            "type": "point",
            "latitude": 22.37190749179,
            "longitude": 113.57034221258
        }],
        "centroidDTO": {
            "type": "point",
            "latitude": 22.371852125396277,
            "longitude": 113.57041033511481
        }
    }
}, {
    "properties": {
        "@type": "node",
        "@id": "-43066"
    },
    "propertiesRelations": [{
        "level_name": "4",
        "@type": "way",
        "name": "401",
        "indoor": "room",
        "@id": "-43065"
    }],
    "id": "-43066",
    "geometryDTO": {
        "type": "point",
        "latitude": 22.37181044898,
        "longitude": 113.57038982179
    }
}, {
    "properties": {
        "@type": "node",
        "@id": "-43068"
    },
    "propertiesRelations": [{
        "level_name": "4",
        "@type": "way",
        "name": "401",
        "indoor": "room",
        "@id": "-43065"
    }],
    "id": "-43068",
    "geometryDTO": {
        "type": "point",
        "latitude": 22.3717766545,
        "longitude": 113.57039082762
    }
}, {
    "properties": {
        "@type": "node",
        "@id": "-43070"
    },
    "propertiesRelations": [{
        "level_name": "4",
        "@type": "way",
        "name": "401",
        "indoor": "room",
        "@id": "-43065"
    }],
    "id": "-43070",
    "geometryDTO": {
        "type": "point",
        "latitude": 22.37177789466,
        "longitude": 113.5704682764
    }
}, {
    "properties": {
        "@type": "node",
        "@id": "-43072"
    },
    "propertiesRelations": [{
        "level_name": "4",
        "@type": "way",
        "name": "401",
        "indoor": "room",
        "@id": "-43065"
    }],
    "id": "-43072",
    "geometryDTO": {
        "type": "point",
        "latitude": 22.37185509488,
        "longitude": 113.57046391781
    }
}, {
    "properties": {
        "@type": "node",
        "@id": "-43074"
    },
    "propertiesRelations": [{
        "level_name": "4",
        "@type": "way",
        "name": "401",
        "indoor": "room",
        "@id": "-43065"
    }],
    "id": "-43074",
    "geometryDTO": {
        "type": "point",
        "latitude": 22.37190470142,
        "longitude": 113.57044782456
    }
}, {
    "properties": {
        "@type": "node",
        "@id": "-43076"
    },
    "propertiesRelations": [{
        "level_name": "4",
        "@type": "way",
        "name": "401",
        "indoor": "room",
        "@id": "-43065"
    }],
    "id": "-43076",
    "geometryDTO": {
        "type": "point",
        "latitude": 22.37189819056,
        "longitude": 113.5704303902
    }
}, {
    "properties": {
        "@type": "node",
        "@id": "-43078"
    },
    "propertiesRelations": [{
        "level_name": "4",
        "@type": "way",
        "name": "401",
        "indoor": "room",
        "@id": "-43065"
    }],
    "id": "-43078",
    "geometryDTO": {
        "type": "point",
        "latitude": 22.37193694566,
        "longitude": 113.57041295584
    }
}];

var labels = {};

function drawIndoor(data) {
    var spaces = data;
    for (i = 0; i < spaces.length; i++) {
        var geometry = createGeometry(spaces[i]);
        if (typeof spaces[i].properties.level_name !== 'undefined' && geometry !== null) {
            if (typeof levels[spaces[i].properties.level_name] !== 'undefined') {
                levels[spaces[i].properties.level_name].addLayer(geometry); // The geometry is assigned to its level layer
            }
        }
    }
}

function orderLevels(levels) {
    var levelGroups = {};
    keys = Object.keys(levels), i, len = keys.length;

    keys.sort(function (a, b) {
        return a - b;
    });

    for (var i in keys) {
        levelGroups["Level " + keys[i]] = levels[keys[i]];
    }
    // levelGroups[Object.keys(levelGroups)[0]].addTo(map); // We add the first level found in the group as the default level viewed
    // L.control.layers(levelGroups).addTo(map); // levelGroups is an ordered copy of levels
    currentLayerGroup = L.layerGroup([levels[3]]).addTo(map);
}

function createLevels(data) {
    var spaces = data;
    for (var i = 0; i < spaces.length; i++) {
        var geometry = createGeometry(spaces[i]);
        if (typeof geometry !== 'undefined' && typeof spaces[i].properties.level_name !== 'undefined') {
            if (typeof levels[spaces[i].properties.level_name] === 'undefined') {
                levels[spaces[i].properties.level_name] = new L.layerGroup();
            }
        }
        geometry && levels[spaces[i].properties.level_name].addLayer(geometry); // We need the level geometry to be draw at the bottom, so it should be the firs layer of its group
    }

    orderLevels(levels);
}

function createGeometry(space) {
    var geometry = null;
    if (space.hasOwnProperty("geometryDTO") && typeof space.properties !== 'undefined') {
        if (typeof space.geometryDTO.collectionPointDTO !== 'undefined') {

            // We need to process the points of this collectionPointDTO and convert them to leaflet LantLng
            var points = space.geometryDTO.collectionPointDTO;
            var point,
                pointList = [];
            for (j = 0; j < points.length; j++) {
                point = new L.LatLng(points[j].latitude, points[j].longitude);
                pointList[j] = point;
            }

            // The label to use in the popup. Preferably the name of the space
            var label = "";
            if (typeof space.properties.name !== 'undefined') {
                label = space.properties.name;
            } else if (typeof space.properties.ref !== 'undefined') {
                label = space.properties.ref;
            }

            // Geometry creation. Depending of its type we will assign a different style
            if (typeof space.properties.highway !== 'undefined') {
                // Stairs
                var geometry = new L.Polygon(pointList, {
                    color: '#efe3d6',
                    fillColor: '#d6d3d6',
                    opacity: 1,
                    fillOpacity: 1,
                    smoothFactor: 1
                });
                label = space.properties.name;
            } else if (space.properties.indoor === "level") {
                // Level outline
                var geometry = new L.Polygon(pointList, {
                    stroke: false,
                    fillColor: 'white',
                    opacity: 1,
                    fillOpacity: 1
                });
            } else if (space.properties.indoor === "room") {
                // Room
                var geometry = new L.Polygon(pointList, {
                    color: '#efe3d6',
                    weight: 2,
                    fillColor: '#fffbef',
                    opacity: 1,
                    fillOpacity: 1,
                    smoothFactor: 1
                });
            } else if (space.properties.indoor === "step") {
                // Room
                var geometry = new L.Polygon(pointList, {
                    color: '#efe3d6',
                    weight: 2,
                    fillColor: '#fffbef',
                    opacity: 1,
                    fillOpacity: 1,
                    smoothFactor: 1
                });
            } else if (space.properties.indoor === "corridor") {
                //Corridor
                var geometry = new L.Polygon(pointList, {
                    stroke: false,
                    fillColor: 'white',
                    opacity: 1,
                    fillOpacity: 1
                });
                if (label.length == 0) label = 'corridor';
            } else if (space.properties.indoor === "elevator") {
                // Elevator
                var geometry = new L.Polygon(pointList, {
                    color: '#efe3d6',
                    fillColor: '#d6d3d6',
                    opacity: 1,
                    fillOpacity: 1,
                    smoothFactor: 1
                });
                label = 'elevator';
            } else if (space.properties.indoor == "wall") {
                // Wall
                var geometry = new L.Polyline(pointList, {
                    color: '#efe3d6',
                    opacity: 1,
                    weight: 2,
                    fillOpacity: 1,
                    smoothFactor: 1
                });
            }
            if (geometry) {
                var pop = geometry.bindPopup(label);
                labels[space.properties.level_name] || (labels[space.properties.level_name] = {});
                labels[space.properties.level_name][label] = pop;
            }
        }
    }
    return geometry;
}